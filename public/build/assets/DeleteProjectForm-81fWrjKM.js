import{q as k,W as v,r as j,b as g,j as e}from"./app-bbybQd69.js";import{I as o}from"./InputLabel-QtIa3tK5.js";import{P as N}from"./PrimaryButton-HcZK7G6X.js";import{S as y,D as E}from"./DangerButton-iMjMiVDv.js";import{T as _}from"./TextInput-KKaGII3y.js";import{C}from"./CreateBoardForm-FYlntZhX.js";import{E as l}from"./ErrorInput-leVUgBdI.js";function T({updateList:d,setShowCreate:n}){var h;const t=(h=k().props)==null?void 0:h.client,{data:a,setData:r,post:c,processing:p,errors:u,reset:x}=v({project_name:"",description:"",active:!0,client_id:(t==null?void 0:t.id)||null}),[b,m]=j.useState([]);j.useEffect(()=>{g.get(route("utils.clients.select")).then(s=>{console.log(s.data),s.status===200&&m(s.data.clients)})},[]);const f=async s=>{s.preventDefault(),await c(route("projects.store"),{onSuccess:i=>{d(i.props.projects),n(!1),x()}})};return e.jsxs("div",{children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("div",{children:e.jsx("h3",{className:"font-bold text-lg text-gray-700 dark:text-gray-300",children:"Create Project"})}),e.jsx("div",{})]}),e.jsxs("form",{className:"space-y-4 pt-4",onSubmit:f,children:[!t&&e.jsxs("div",{className:"space-y-2",children:[e.jsx(o,{value:"Client"}),e.jsx("div",{children:e.jsx(C,{items:b,keySearch:"name",cbSelected:s=>r("client_id",s==null?void 0:s.id)})}),e.jsx(l,{errors:u,errorKey:"client_id"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(o,{value:"Project name"}),e.jsx("div",{children:e.jsx(_,{id:"project_name",name:"project_name",type:"text",value:a.project_name,onChange:s=>r("project_name",s.target.value)})}),e.jsx(l,{errors:u,errorKey:"project_name"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(o,{value:"Description"}),e.jsx("div",{children:e.jsx("textarea",{value:a.description,onChange:s=>r("description",s.target.value),className:"textarea border border-gray-300 dark:border-gray-700 focus:ring-gray-800 focus:outline-none focus:ring-1 focus:border-gray-600 h-24 w-full ",placeholder:"Short description on this client"})}),e.jsx(l,{errors:u,errorKey:"description"})]}),e.jsx("div",{className:"flex justify-end",children:e.jsxs("div",{className:"space-x-2",children:[e.jsx(y,{onClick:()=>{n(!1)},type:"button",children:"Cancel"}),e.jsx(N,{type:"submit",children:"Submit"})]})})]})]})}function q({updateList:d,setShowEdit:n,project:t,skipClientSelect:a=!1}){const{data:r,setData:c,put:p,processing:u,errors:x,reset:b}=v({project_name:"",description:"",active:!0,client_id:null}),[m,f]=j.useState([]);j.useEffect(()=>{g.get(route("utils.clients.select")).then(s=>{s.status===200&&f(s.data.clients.map(i=>({...i,label:i.name,value:i.id})))})},[]),j.useEffect(()=>{if(t){const{project_name:s,description:i,active:D,client_id:S}=t;c({project_name:s,description:i,active:D,client_id:S})}},[t==null?void 0:t.id]);const h=s=>{s.preventDefault(),p(route("projects.update",{id:t.id}),{onSuccess:i=>{d(i.props.projects),n(!1)}})};return e.jsxs("div",{children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("div",{children:e.jsx("h3",{className:"font-bold text-lg text-gray-700 dark:text-gray-300",children:"Edit Project"})}),e.jsx("div",{})]}),e.jsxs("form",{className:"space-y-4 pt-4",onSubmit:h,children:[a&&e.jsxs("div",{className:"space-y-2",children:[e.jsx(o,{value:"Client"}),e.jsx("div",{children:e.jsx(C,{items:m,keySearch:"name",cbSelected:s=>c("client_id",s==null?void 0:s.id),selectedItem:m.find(s=>s.id===(r==null?void 0:r.client_id))})}),e.jsx(l,{errors:x,errorKey:"client_id"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(o,{value:"Project name"}),e.jsx("div",{children:e.jsx(_,{id:"project_name",name:"project_name",type:"text",value:r.project_name,onChange:s=>c("project_name",s.target.value)})}),e.jsx(l,{errors:x,errorKey:"project_name"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(o,{value:"Description"}),e.jsx("div",{children:e.jsx("textarea",{value:r.description,onChange:s=>c("description",s.target.value),className:"textarea border border-gray-300 dark:border-gray-700 focus:ring-gray-800 focus:outline-none focus:ring-1 focus:border-gray-600 h-24 w-full ",placeholder:"Short description on this client"})}),e.jsx(l,{errors:x,errorKey:"description"})]}),e.jsx("div",{className:"flex justify-end",children:e.jsxs("div",{className:"space-x-2",children:[e.jsx(y,{onClick:()=>{n(!1)},type:"button",children:"Cancel"}),e.jsx(N,{type:"submit",children:"Submit"})]})})]})]})}function A({projectId:d,setShowDelete:n,updateList:t}){const{delete:a}=v({}),r=c=>{c.preventDefault(),a(route("projects.destroy",{id:d}),{onSuccess:p=>{t(p.props.projects),n(!1)}})};return e.jsxs("div",{children:[e.jsxs("div",{className:"flex justify-between items-center pb-4",children:[e.jsx("div",{children:e.jsx("h3",{className:"font-bold text-lg text-gray-700 dark:text-gray-300",children:"Confirm to delete the project"})}),e.jsx("div",{})]}),e.jsxs("form",{onSubmit:r,children:[e.jsx("div",{className:"pb-6",children:e.jsx("p",{className:"",children:"Are you sure to delete this project?"})}),e.jsx("div",{className:"flex justify-end",children:e.jsxs("div",{className:"flex space-x-2",children:[e.jsx(y,{type:"button",onClick:()=>n(!1),children:"Cancel"}),e.jsx(E,{type:"submit",children:"Delete"})]})})]})]})}export{T as C,A as D,q as E};
