import{r as l,W as p,j as e,a as f,d as i}from"./app-fs_6k6hS.js";import{P as j}from"./PrimaryButton-mHZ5eINg.js";import{T as o}from"./TextInput-CNWcuPqg.js";import{D as v,A as b}from"./AuthenticatedLayout-k9NmgLKp.js";import{Q as y,d as N,e as g}from"./PencilSquareIcon-5M3xQCT8.js";import"./PriorityLevel-_m1KvzPo.js";import{d as w}from"./date-olAZvHKQ.js";import{T as _}from"./TableList-CqFUqCi9.js";import"./transition-kZ4-z35S.js";import"./dialog-V-6mXP5a.js";const q=({auth:n,tasks:s,search_query:d,search_date:m})=>{const a=l.useRef(),r=l.useRef(),{get:x}=p();l.useEffect(()=>{a.current.value=d,r.current.value=m},[]);const c=t=>{t.preventDefault(),x(route("tasks.index",[{search_date:r.current.value,search_query:a.current.value}]))},h={3:e.jsx("span",{className:"bg-red-500 text-white px-2 py-1 rounded-full text-xs uppercase font-bold",children:"High"}),2:e.jsx("span",{className:"bg-yellow-600 text-white px-2 py-1 rounded-full text-xs uppercase font-bold",children:"Medium"}),1:e.jsx("span",{className:"bg-gray-500 px-2 py-1 rounded-full text-xs uppercase font-bold",children:"Low"}),0:null},u=s.data.map(t=>({id:`#${t.acronym}-${t.counter}`,name:t.name,board_name:t.board_name,priority_level:h[t.priority_level],created_at:w(t.created_at),action:e.jsx(v,{actionObject:{edit:{action:()=>{setTaskSelected(t),setShowEdit(!0)},label:"Edit"},view:{action:()=>{window.location.href=route("tasks.show",{id:t.id})},label:"View"}}})}));return e.jsxs(e.Fragment,{children:[e.jsx(f,{title:"Tasks"}),e.jsxs(b,{user:n.user,header:e.jsx("div",{className:"flex justify-between items-center",children:e.jsx("div",{children:e.jsxs("h3",{className:"font-bold text-sm flex items-center",children:[e.jsx(y,{className:"h-5 w-5 mr-3"}),"Tasks"]})})}),children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3",children:[e.jsx("form",{onSubmit:c,className:"w-full col-span-2",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-2",children:[e.jsx(o,{ref:a,name:"search_query",placeholder:"Search"}),e.jsx(o,{ref:r,name:"search_date",type:"date"}),e.jsxs("div",{className:"flex space-x-3 items-center",children:[e.jsx(j,{type:"submit",className:"",children:"Search"}),e.jsx("button",{className:"uppercase font-bold hover:opacity-75 text-sm",onClick:t=>{r.current.value=null,a.current.value=null,c(t)},children:"Clear"})]})]})}),e.jsxs("div",{className:"flex space-x-3 items-center justify-end",children:[e.jsxs("div",{className:"font-bold text-sm",children:[s.from," - ",s.to," of ",s.total]}),e.jsxs("div",{className:"join space-x-1",children:[e.jsx("div",{children:e.jsx(i,{href:"#",className:"btn btn-sm bg-teal-600 hover:bg-teal-600/90 text-white",children:e.jsx(N,{className:"h-4 w-4"})})}),e.jsx("div",{children:e.jsx(i,{href:"#",className:"btn btn-sm bg-teal-600 hover:bg-teal-600/90 text-white",children:e.jsx(g,{className:"h-4 w-4"})})})]})]})]}),e.jsx("div",{className:"h-[calc(100dvh-180px)] overflow-y-auto -mr-5 pr-3 mt-3 overflow-x-auto",children:e.jsx(_,{theadObject:{acronym_id:"#",name:"Name",board_name:"Board Position",priority_level:"Priority Level",created_at:"Date Created",action:""},items:u})})]})]})};export{q as default};
