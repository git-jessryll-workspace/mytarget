import{W as u,j as e,r as p}from"./app-I37UwJ8Q.js";import{I as i}from"./InputLabel-wp07J9qd.js";import{P as y}from"./PrimaryButton-bxyMUJE_.js";import{S as h,D as N}from"./DangerButton-nVdXsmnN.js";import{T as c}from"./TextInput-6ikZNGhg.js";import{E as _}from"./ErrorInput-XJQb45Yl.js";import{T as g}from"./TextArea-g7yk2gnD.js";const C=({updateList:x,setShowCreate:s})=>{const{data:n,setData:r,post:o,processing:l,errors:a,reset:m}=u({name:"",date_started:"",date_ended:"",position:"",note:""}),v=t=>{t.preventDefault(),o(route("clients.store"),{onSuccess:j=>{s(!1),x(j.props.clients),m()}})};return e.jsxs("div",{children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("div",{children:e.jsx("h3",{className:"font-bold text-lg text-gray-700 dark:text-gray-300",children:"Create Client"})}),e.jsx("div",{})]}),e.jsxs("form",{className:"space-y-4 pt-4",onSubmit:v,children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(i,{value:"Client name"}),e.jsx("div",{children:e.jsx(c,{id:"client_name",name:"client_name",type:"text",value:n.name,onChange:t=>r("name",t.target.value)})}),e.jsx(_,{errors:a,errorKey:"name"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(i,{value:"Position"}),e.jsx("div",{children:e.jsx(c,{id:"position",name:"position",value:n.position,onChange:t=>r("position",t.target.value)})}),a.position&&e.jsx("p",{className:"text-sm text-error",children:a.position})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(i,{value:"Date started"}),e.jsxs("div",{children:[e.jsx(c,{type:"date",id:"date_started",name:"date_started",value:n.date_started,onChange:t=>r("date_started",t.target.value)}),a.date_started&&e.jsx("p",{className:"text-sm text-error",children:a.date_started})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(i,{value:"Date ended"}),e.jsx("div",{children:e.jsx(c,{type:"date",id:"date_ended",name:"date_ended",value:n.date_ended,onChange:t=>r("date_ended",t.target.value)})}),a.date_ended&&e.jsx("p",{className:"text-sm text-error",children:a.date_ended})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(i,{value:"Note"}),e.jsx("div",{children:e.jsx(g,{value:n.note,onChange:t=>r("note",t.target.value),placeholder:"Short note on this client"})})]}),e.jsx("div",{className:"flex justify-end",children:e.jsxs("div",{className:"space-x-2",children:[e.jsx(h,{onClick:()=>{s(!1)},type:"button",children:"Cancel"}),e.jsx(y,{type:"submit",children:"Submit"})]})})]})]})},P=C,T=p.memo(function({client:s,updateClientList:n,resetSelected:r}){const{data:o,setData:l,put:a,processing:m,errors:v,reset:t}=u({name:"",date_started:"",date_ended:"",position:"",note:"",active:!0});p.useEffect(()=>{l({name:(s==null?void 0:s.name)||"",date_started:(s==null?void 0:s.date_started)||"",date_ended:(s==null?void 0:s.date_ended)||"",position:(s==null?void 0:s.position)||"",note:(s==null?void 0:s.note)||"",active:(s==null?void 0:s.active)||!0})},[s==null?void 0:s.id]);const j=d=>{d.preventDefault(),a(route("clients.update",{id:s.id}),{onSuccess:f=>{n(f.props.clients),r(),t()}})};return e.jsxs("div",{children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("div",{children:e.jsxs("h3",{className:"font-bold text-lg text-gray-700 dark:text-gray-300",children:["Edit Client ",(s==null?void 0:s.name)||""]})}),e.jsx("div",{})]}),e.jsxs("form",{className:"space-y-4 pt-4",onSubmit:j,children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(i,{value:"Client name"}),e.jsx("div",{children:e.jsx(c,{id:"client_name",name:"client_name",type:"text",value:o.name,onChange:d=>l("name",d.target.value)})})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(i,{value:"Position"}),e.jsx("div",{children:e.jsx(c,{id:"position",name:"position",value:o.position,onChange:d=>l("position",d.target.value)})})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(i,{value:"Date started"}),e.jsx("div",{children:e.jsx(c,{type:"date",id:"date_started",name:"date_started",value:o.date_started,onChange:d=>l("date_started",d.target.value)})})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(i,{value:"Date ended"}),e.jsx("div",{children:e.jsx(c,{type:"date",id:"date_ended",name:"date_ended",value:o.date_ended,onChange:d=>l("date_ended",d.target.value)})})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(i,{value:"Note"}),e.jsx("div",{children:e.jsx(g,{value:o.note,onChange:d=>l("note",d.target.value),placeholder:"Short note on this client"})})]}),e.jsx("div",{className:"flex justify-end",children:e.jsxs("div",{className:"space-x-2",children:[e.jsx(h,{onClick:()=>{r()},type:"button",children:"Close"}),e.jsx(y,{type:"submit",children:"Submit"})]})})]})]})}),B=p.memo(function({clientId:s,setDeleteClient:n,updateClientList:r}){const{delete:o}=u({}),l=a=>{a.preventDefault(),o(route("clients.destroy",{id:s}),{onSuccess:m=>{n(!1),r(m.props.clients)}})};return e.jsxs("div",{children:[e.jsxs("div",{className:"flex justify-between items-center pb-4",children:[e.jsx("div",{children:e.jsx("h3",{className:"font-bold text-lg text-gray-700 dark:text-gray-300",children:"Confirm to delete the client"})}),e.jsx("div",{})]}),e.jsxs("form",{onSubmit:l,children:[e.jsx("div",{className:"pb-6",children:e.jsx("p",{className:"",children:"Are you sure to delete this client?"})}),e.jsx("div",{className:"flex justify-end",children:e.jsxs("div",{className:"flex space-x-2",children:[e.jsx(h,{type:"button",onClick:()=>n(!1),children:"Cancel"}),e.jsx(N,{type:"submit",children:"Delete"})]})})]})]})},(x,s)=>x.clientId===s.clientId);export{P as C,B as D,T as E};
