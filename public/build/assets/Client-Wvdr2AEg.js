import{r as i,j as t,a as h}from"./app-f9npXpwR.js";import{D as p,A as u}from"./AuthenticatedLayout-07E8yd_R.js";import{Q as j}from"./QuestionMarkIcon-D9v-Zww3.js";import{N as f}from"./NavPanel-SA-13TvS.js";import{E as w,D as C,C as v}from"./DeleteClientForm-J5ApIJdV.js";import{M as d}from"./DangerButton-GcJG4a03.js";import{T as S}from"./TableList-IQsa4xsQ.js";import"./transition-0tvAEGH0.js";import"./dialog-ALxYEdJ2.js";import"./TextInput-uo1B8Cph.js";import"./PrimaryButton-quU-Lmp0.js";import"./InputLabel-NbOcPn1X.js";import"./ErrorInput-GoHyxi22.js";const b=({clients:l,updateClientList:a})=>{const[s,r]=i.useState(null),[n,o]=i.useState(!1),[m,c]=i.useState(!1),x=l.map(e=>({id:e.id,name:e.name,position:e.position,status:e.active===1?"Active":"Inactive",action:t.jsx(p,{actionObject:{edit:{action:()=>{r(e),c(!0)},label:"Edit"},show:{action:()=>{window.location.href=route("clients.show",e.id)},label:"View"},delete:{action:()=>{r(e),o(!0)},label:"Delete"}}})}));return t.jsxs(t.Fragment,{children:[t.jsx(d,{show:m,maxWidth:"md",children:t.jsx(w,{updateClientList:a,client:s,resetSelected:()=>c(!1)})}),t.jsx(d,{show:n,maxWidth:"md",children:t.jsx(C,{clientId:s==null?void 0:s.id,setDeleteClient:o,updateClientList:a})}),t.jsx(S,{theadObject:{id:"#",client_name:"Client Name",position:"Position",status:"Status",action:""},items:x})]})},D=i.memo(b);function T({auth:l,clients:a,search_query:s}){const[r,n]=i.useState([]);i.useEffect(()=>{n(a.data)},[]);const o=m=>{n(m.data)};return t.jsxs(t.Fragment,{children:[t.jsx(h,{title:"Clients"}),t.jsxs(u,{user:l.user,header:t.jsx("div",{children:t.jsxs("a",{href:`${route("projects.index")}`,className:"text-gray-500 dark:text-gray-300 hover:opacity-75 flex items-center text-sm font-bold antialiased",children:[t.jsx(j,{className:"h-5 w-5 flex-shrink-0 mr-3","aria-hidden":"true"}),t.jsx("span",{className:"sr-only",children:"Client"}),"Client"]})}),children:[t.jsx(f,{search_query:s,keyProps:"clients",updateList:o,data:a,CreateForm:v}),t.jsx("div",{className:"h-[calc(100dvh-180px)] overflow-y-auto -mr-5 pr-3 mt-3 overflow-x-auto ",children:t.jsx(D,{clients:r,updateClientList:o})})]})]})}export{T as default};
