import{r as i,j as t,a as h}from"./app-fs_6k6hS.js";import{D as p,A as u}from"./AuthenticatedLayout-k9NmgLKp.js";import{Q as j}from"./PencilSquareIcon-5M3xQCT8.js";import{N as f}from"./NavPanel-rVZ8uTpK.js";import{E as w,D as C,C as v}from"./DeleteClientForm--dJHs13h.js";import{M as c}from"./DangerButton-DE_cglpi.js";import{T as S}from"./TableList-CqFUqCi9.js";import"./transition-kZ4-z35S.js";import"./dialog-V-6mXP5a.js";import"./TextInput-CNWcuPqg.js";import"./PrimaryButton-mHZ5eINg.js";import"./InputLabel-tO2ki5i6.js";import"./ErrorInput-1c-OUAaW.js";const b=({clients:l,updateClientList:a})=>{const[s,r]=i.useState(null),[n,o]=i.useState(!1),[m,d]=i.useState(!1),x=l.map(e=>({id:e.id,name:e.name,position:e.position,status:e.status===1?"Active":"Inactive",action:t.jsx(p,{actionObject:{edit:{action:()=>{r(e),d(!0)},label:"Edit"},show:{action:()=>{window.location.href=route("clients.show",e.id)},label:"View"},delete:{action:()=>{r(e),o(!0)},label:"Delete"}}})}));return t.jsxs(t.Fragment,{children:[t.jsx(c,{show:m,maxWidth:"md",children:t.jsx(w,{updateClientList:a,client:s,resetSelected:()=>d(!1)})}),t.jsx(c,{show:n,maxWidth:"md",children:t.jsx(C,{clientId:s==null?void 0:s.id,setDeleteClient:o,updateClientList:a})}),t.jsx(S,{theadObject:{id:"#",client_name:"Client Name",position:"Position",status:"Status",action:""},items:x})]})},D=i.memo(b);function T({auth:l,clients:a,search_query:s}){const[r,n]=i.useState([]);i.useEffect(()=>{n(a.data)},[]);const o=m=>{n(m.data)};return t.jsxs(t.Fragment,{children:[t.jsx(h,{title:"Clients"}),t.jsxs(u,{user:l.user,header:t.jsx("div",{children:t.jsxs("a",{href:`${route("projects.index")}`,className:"text-gray-500 dark:text-gray-300 hover:opacity-75 flex items-center text-sm font-bold antialiased",children:[t.jsx(j,{className:"h-5 w-5 flex-shrink-0 mr-3","aria-hidden":"true"}),t.jsx("span",{className:"sr-only",children:"Client"}),"Client"]})}),children:[t.jsx(f,{search_query:s,keyProps:"clients",updateList:o,data:a,CreateForm:v}),t.jsx("div",{className:"h-[calc(100dvh-180px)] overflow-y-auto -mr-5 pr-3 mt-3 overflow-x-auto ",children:t.jsx(D,{clients:r,updateClientList:o})})]})]})}export{T as default};
