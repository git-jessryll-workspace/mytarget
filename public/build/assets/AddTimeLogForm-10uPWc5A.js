import{r as c,q as p,W as j,j as e}from"./app-bbybQd69.js";import{S as f,D as N}from"./DangerButton-iMjMiVDv.js";import{E as x}from"./ErrorInput-leVUgBdI.js";import{I as n}from"./InputLabel-QtIa3tK5.js";import{P as k}from"./PrimaryButton-HcZK7G6X.js";import{T as h}from"./TextInput-KKaGII3y.js";const _=({setShow:i})=>{const{task:r}=p().props,{patch:t}=j(),a=async o=>{o.preventDefault(),t(route("tasks.archive",{id:r.id}),{onSuccess:()=>i(!1)})};return e.jsxs("div",{children:[e.jsxs("div",{className:"flex justify-between items-center pb-4",children:[e.jsx("div",{children:e.jsx("h3",{className:"font-bold text-lg text-gray-700 dark:text-gray-300",children:"Confirm to archive the task"})}),e.jsx("div",{})]}),e.jsxs("form",{onSubmit:a,children:[e.jsx("div",{className:"pb-6",children:e.jsx("p",{className:"",children:"Are you sure to archive this task?"})}),e.jsx("div",{className:"flex justify-end",children:e.jsxs("div",{className:"flex space-x-2",children:[e.jsx(f,{type:"button",onClick:()=>i(!1),children:"Cancel"}),e.jsx(N,{type:"submit",children:"Yes"})]})})]})]})},I=c.memo(_),E=c.memo(function({setShowAddTimeLog:r}){const{task:t}=p().props,{data:a,setData:o,post:v,errors:d,reset:g}=j({time_log:"",created_at:null,body:"",task_id:t.id,client_project_id:t.client_project_id}),[m,u]=c.useState(null),y=async s=>{s.preventDefault(),v(route("task_time_logs.store",{onSuccess:l=>{g()},onError:l=>{console.error(l)}})),r(!1)};function b(s){return/^(\d+h)?(\s*\d+m)?$/.test(s)?(console.log("Valid time format!"),!0):(console.log("Invalid time format. Please use the format 'h hours m minutes', e.g., 3h 5m."),!1)}return e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"",children:e.jsx("h3",{className:"leading-6 font-semibold",children:"Add Time Log"})}),e.jsxs("form",{className:"space-y-4 mt-5",onSubmit:y,children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(n,{value:"Time Log"}),e.jsxs("div",{className:"space-y-1",children:[e.jsx(h,{value:a.time_log,onChange:s=>{o("time_log",s.target.value),b(s.target.value)?u(null):u("invalid")}}),e.jsx(x,{errors:d,errorKey:"time_log"}),m&&e.jsx("p",{className:"text-error text-xs",children:"Invalid input time log"}),e.jsx("p",{className:"text-xs italic",children:"Required format h=hour m=minutes. example 3h 5m equevalent of 3hours and 5minutes."})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(n,{value:"Body"}),e.jsxs("div",{children:[e.jsx("textarea",{value:a.body,onChange:s=>o("body",s.target.value),className:"textarea border border-gray-300 dark:border-gray-700 focus:ring-gray-800 focus:outline-none focus:ring-1 focus:border-gray-600 h-24 w-full ",placeholder:"short description of your time log"}),e.jsx(x,{errors:d,errorKey:"body"})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(n,{value:"Date"}),e.jsx("div",{children:e.jsx(h,{type:"date"})})]}),e.jsx("div",{className:"border-t border-gray-300 dark:border-gray-500 flex space-x-2 justify-end",children:e.jsxs("div",{className:"flex space-x-2 mt-4",children:[e.jsx(f,{onClick:()=>r(!1),children:"Cancel"}),e.jsx(k,{disabled:m,children:"Save"})]})})]})]})});export{I as A,E as a};
